<!DOCTYPE html>
<html>
<head>
    <title>Edit Course</title>
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css'>
</head>
<body>
    <div class='container mt-4'>
        <h1 class='text-center'>Edit Course</h1>

        <!-- ✅ Course selection dropdown -->
        <form method='GET' action='/edit_course'>
            <label>Select a Course:</label>
            <select name='course_id' class='form-control' onchange='this.form.submit()'>
                <option value=''>-- Choose a Course --</option>
                {% for c in courses %}
                    <option value='{{ c.id }}' {% if course and course.id == c.id %}selected{% endif %}>
                        {{ c.name }} - {{ c.location }}
                    </option>
                {% endfor %}
            </select>
        </form>

        {% if course %}
        <!-- ✅ Course Edit Form (only shows when a course is selected) -->
        <form method='POST' action='/edit_course?course_id={{ course.id }}' class='mt-3'>
            <div class='mb-3'>
                <label>Course Name:</label>
                <input type='text' name='course_name' value='{{ course.name }}' class='form-control' required>
            </div>
            <div class='mb-3'>
                <label>Location:</label>
                <input type='text' name='location' value='{{ course.location }}' class='form-control' required>
            </div>
            <div class='mb-3'>
                <label>Par (Total for Course):</label>
                <input type='number' name='par' value='{{ course.par }}' class='form-control' required>
            </div>
            <button type='submit' class='btn btn-warning'>Update Course</button>
        </form>
        {% endif %}

        <a href='/courses' class='btn btn-secondary mt-3'>Back to Courses</a>
    </div>
</body>
</html>